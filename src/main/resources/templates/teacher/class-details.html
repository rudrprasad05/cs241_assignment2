<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="layout-dashboard :: head(name='Dashboard')"><title>Admin Dashboard</title></head>

<body th:replace="layout-dashboard :: body(sideNavLinks=${sideNavLinks})">

<div th:fragment="main" class="">

    <div th:insert="fragments/toast :: toast(type=${toastType}, message=${toastMessage})"></div>

    <div class="main">
        <section class="d-flex fs-3 gap-2">
            <span class="text-capitalize" th:text="${subjectClass.getSubject().getDescription()}"></span>
            <span class="text-uppercase" th:text="${subjectClass.getSubject().getCode()}"></span>
        </section>
        <div class="card my-3">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center mb-2">
                    <div>
                        <h5 class="fs-4 m-0" th:text="${subjectClass.getDay()}" ></h5>
                        <h5 class="fs-4 m-0" th:text="${subjectClass.getPeriod().getTime()}" ></h5>
                    </div>
                    <div class="d-flex flex-direction-column align-items-center justify-content-center gap-3">
                        <h6 th:text="${subjectClass.getRoomCode()}" class="badge bg-warning text-secondary d-flex justify-content-between rounded-pill fw-light my-auto"></h6>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div>
        <div class="d-flex justify-content-between mb-3">
            <h3 class="mb-2">Students</h3>
        </div>
        <p th:if="${enrolledStudents.isEmpty()}">No data available.</p>

        <div th:if="${!enrolledStudents.isEmpty()}" class="flex-grid-one-col">
            <div class="card ">
                <div class="card-body grid-3-cols">
                    <span>ID</span>
                    <span>Name</span>
                    <span class="ms-auto text-right">Actions</span>
                </div>
            </div>
            <div class="card" th:each="student : ${enrolledStudents}">
                <div class="card-body grid-3-cols">
                    <span th:text="${student.getStudentId()}"></span>
                    <span th:text="${student.getFName()}"></span>
                    <a class="ms-auto" th:href="'/teacher/users/' + ${student.getId()}">View</a>

                </div>
            </div>
        </div>
    </div>

    <div>
        <div class="d-flex justify-content-between mb-3">
            <h3 class="mb-2">Attendance</h3>
        </div>
        <p th:if="${sessionClass.isEmpty()}">No data available.</p>

        <div th:if="${!sessionClass.isEmpty()}" class="flex-grid-one-col">
            <div class="card" th:each="classSession : ${sessionClass}">
                <div class="card-body d-flex justify-content-between">
                    <div class="d-flex gap-2">
                        <span>Week: </span>
                        <span th:text="${classSession.getWeek()}"></span>
                    </div>
                    <a th:href="@{'/teacher/subjects/' + ${subjectClass.getSubject().getCode()} + '/' + ${subjectClass.getId()} + '/attendance/' + ${classSession.getId()}}">view</a>
                </div>
            </div>
        </div>
    </div>

</div>

</body>
</html>
