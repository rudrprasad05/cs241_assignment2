<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="layout-dashboard :: head(name='Dashboard')"><title>Admin Dashboard</title></head>

<body th:replace="layout-dashboard :: body(sideNavLinks=${sideNavLinks})">

<div th:fragment="main" class="">

    <div th:insert="fragments/toast :: toast(type=${toastType}, message=${toastMessage})"></div>

    <div class="main">
        <span>Day: </span>
        <h1 th:text="${subjectClass.getDay()}"></h1>
        <span>Period: </span>
        <h1 th:text="${subjectClass.getPeriod().getTime()}"></h1>
        <span>Subject Code: </span>
        <h1 th:text="${subjectClass.getSubject().getCode()}"></h1>
        <span>Room: </span>
        <h1 th:text="${subjectClass.getRoomCode()}"></h1>

        <!-- Add more details as needed -->
        <p>Number of Enrollments: <span th:text="${subjectClass.getEnrollments().size()}"></span></p>

        <!-- Back to subject list -->
        <a th:href="@{'/admin/subjects/' + ${subjectClass.getSubject().getCode()}}">Back to Subjects List</a>
    </div>

    <div>
        <div class="d-flex justify-content-between mb-3">
            <h3 class="mb-2">Attendance</h3>
        </div>
        <p th:if="${sessions.isEmpty()}">No data available.</p>

        <div th:if="${!sessions.isEmpty()}" class="flex-grid-one-col">
            <div class="card" th:each="classSession : ${sessions}">
                <div class="card-body d-flex justify-content-between">
                    <div class="d-flex gap-2">
                        <span>Week: </span>
                        <span th:text="${classSession.getWeek()}"></span>
                    </div>

                    <a th:href="@{'/admin/subjects/' + ${subjectClass.getSubject().getCode()} + '/' + ${subjectClass.getId()} + '/attendance/' + ${classSession.getId()}}">view</a>
                </div>
            </div>
        </div>
    </div>

</div>

</body>
</html>
